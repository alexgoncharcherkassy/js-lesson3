<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>map</title>
</head>
<body>
<a href="index.html">Back</a>
<p id="ex2"></p>
</body>
<script>
    var testArr = [1, 3, 0, 5, 2, 7];
    var ex2 = document.getElementById('ex2');
    Array.prototype.myMap = function (fun) {
        var len = this.length;
        if (typeof fun != "function")
            throw new TypeError();

        var thisp = arguments[1];
        var arr = [];
        for (var i = 0; i < len; i++) {
            if (i in this) {
                arr.push(fun.call(thisp, this[i]));
            }
        }
        return arr;
    };

    var newArr = testArr.myMap(function (val) {
        return val * 2;
    });
    ex2.innerHTML = 'Start array: ' + testArr.join(', ') + ' New array(sub 2): ' + newArr.join(', ');
</script>

</html>